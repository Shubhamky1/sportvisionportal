<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Players</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="shortcut icon"
      href="https://www.freeiconspng.com/uploads/gold-trophy-transparent-1.png"
      type="image/png">
<link rel="icon"
      href="https://www.freeiconspng.com/uploads/gold-trophy-transparent-1.png"
      type="image/png">
</head>

<body class="bg-gradient-to-br from-blue-800 via-blue-900 to-gray-900 text-white min-h-screen">
  <div class="max-w-6xl mx-auto py-10 px-4">

    <h1 class="text-4xl font-extrabold text-center text-yellow-400 mb-8">‚öΩ Player List</h1>

    <div class="overflow-x-auto bg-white/10 backdrop-blur-md rounded-2xl shadow-lg">
      <table class="w-full text-left">
        <thead class="bg-yellow-500 text-gray-900">
          <tr>
            <th class="p-3">ID</th>
            <th class="p-3">Username</th>
            <th class="p-3">Age</th>
            <th class="p-3">Contact</th>
            <th class="p-3">Skills</th>
            <th class="p-3 text-center">Actions</th>
          </tr>
        </thead>

        <tbody>
          {% for player in players %}
          <tr class="border-b border-gray-700 hover:bg-white/5 transition">
            <td class="p-3">{{ player.id }}</td>
            <td class="p-3 font-semibold">{{ player.user.username }}</td>
            <td class="p-3">{{ player.age }}</td>
            <td class="p-3">{{ player.contact }}</td>
            <td class="p-3">{{ player.skills|default:"‚Äî" }}</td>

            <td class="p-3 text-center">

              <!-- EDIT Button -->
              <a href="{% url 'player_update' player.id %}"
                 class="bg-blue-500 hover:bg-blue-600 text-white font-semibold px-4 py-1 rounded-lg transition">
                Edit
              </a>

              <!-- DELETE Button (POST request) -->
              <form action="{% url 'player_delete' player.id %}" method="POST" class="inline">
                {% csrf_token %}
                <button type="submit"
                        onclick="return confirm('Are you sure you want to delete this player?')"
                        class="bg-red-500 hover:bg-red-600 text-white font-semibold px-4 py-1 rounded-lg transition ml-2">
                  Delete
                </button>
              </form>

            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="6" class="text-center p-4 text-gray-300">No players found.</td>
          </tr>
          {% endfor %}
        </tbody>

      </table>
    </div>

    <div class="text-center mt-10">
      <a href="{% url 'home' %}" class="text-gray-300 hover:text-yellow-300 transition">
        üè† Back to Home
      </a>
    </div>

  </div>
</body>
</html>
